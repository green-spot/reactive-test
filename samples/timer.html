<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Timer App</title>

  <script type="module" defer>
    import {app, createEnv} from "./lib.js";

    const env = createEnv({i: 0})
    let stopped = false;
    app("#timer", env);

    setInterval(() => {if(!stopped) env.i++;}, 1000);
    document.querySelector(".stop").addEventListener("click", () => stopped = true);
    document.querySelector(".reset").addEventListener("click", () => {stopped = false; env.i = 0;});
  </script>
</head>

<body>
  <section>
    <h1>Timer App</h1>

    <div id="timer">
      <template>
        <p>{i}</p>
      </template>
    </div>

    <button type="button" class="stop">Stop</button>
    <button type="button" class="reset">Reset</button>
  </section>
</body>
</html>
